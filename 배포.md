 ë¡œì»¬ê³¼ ì„œë²„ í™˜ê²½ì´ ë™ì¼í•œ Podman êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆì–´ ìµœì í™”ëœ ë°°í¬ ë°©ë²•ë“¤ì„ ë¶„ì„í–ˆìŠµë‹ˆë‹¤.

  ğŸš€ ìµœì í™”ëœ ë°°í¬ ë°©ë²• 3ê°€ì§€

  ë°©ë²• 1: ì§ì ‘ ì»¨í…Œì´ë„ˆ ë™ê¸°í™” (ê°€ì¥ íš¨ìœ¨ì )

  # ë¡œì»¬ Podman ì»¨í…Œì´ë„ˆë¥¼ ì§ì ‘ ì„œë²„ë¡œ ì „ì†¡
  podman save commerce-app:latest | ssh user@141.164.60.51 'podman load'
  ./codeb-cli-v2.sh restart commerce

  ë°©ë²• 2: Git ê¸°ë°˜ ìë™ ë°°í¬

  # ë¡œì»¬ ë¹Œë“œ ì™„ë£Œ í›„ ìë™ ë°°í¬
  git push origin main
  ./codeb-cli-v2.sh deploy commerce https://github.com/dungeun/e-market.git main

  ë°©ë²• 3: í™˜ê²½ ë™ê¸°í™” ìŠ¤í¬ë¦½íŠ¸

  #!/bin/bash
  # ë¡œì»¬ í™˜ê²½ì„ ì„œë²„ì— ê·¸ëŒ€ë¡œ ë³µì‚¬
  rsync -avz --progress ./database/ user@141.164.60.51:~/codeb-projects/commerce/database/
  ssh user@141.164.60.51 'cd ~/codeb-projects && ./codeb-cli-v2.sh restart commerce'

  âš¡ ê°€ì¥ ì‰¬ìš´ ë°©ë²• (ì¶”ì²œ)

  ë™ì¼í•œ í™˜ê²½ êµ¬ì¡°ë¥¼ í™œìš©í•œ ì¦‰ì‹œ ë™ê¸°í™” ë°©ì‹:

  # 1ë‹¨ê³„: ë¡œì»¬ ë¹Œë“œ í™•ì¸
  podman ps --filter name=commerce

  # 2ë‹¨ê³„: ì„œë²„ì— ì¦‰ì‹œ ë°°í¬
  ./codeb-cli-v2.sh deploy commerce https://github.com/dungeun/e-market.git main

  # 3ë‹¨ê³„: ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
  ./codeb-cli-v2.sh tail commerce app

  ì¥ì :
  - âœ… ê¸°ì¡´ CLI 2.0 ì¸í”„ë¼ ê·¸ëŒ€ë¡œ í™œìš©
  - âœ… PostgreSQL/Redis ì„¤ì • ë™ì¼í•˜ë¯€ë¡œ ë³„ë„ ì„¤ì • ë¶ˆí•„ìš”
  - âœ… ìë™ ë„ë©”ì¸ ì„¤ì • (commerce.codeb.one-q.xyz)
  - âœ… SSL ì¸ì¦ì„œ ìë™ ì ìš©
  - âœ… ì‹¤ì‹œê°„ ìƒíƒœ ëª¨ë‹ˆí„°ë§ ê°€ëŠ¥

âº ì´ë ‡ê²Œ 3ê°€ì§€ ìµœì í™”ëœ ë°°í¬ ë°©ë²•ì„ ì œì‹œí–ˆìŠµë‹ˆë‹¤. ë™ì¼í•œ Podman í™˜ê²½ì„ í™œìš©í•˜ë©´ ê¸°ì¡´ CodeB CLI 2.0ìœ¼ë¡œë„ ì¶©ë¶„íˆ íš¨ìœ¨ì ì¸ ë°°í¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.